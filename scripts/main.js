"use strict";$(function(){function e(e){u||p||(u=!0,$(d).css("z-index","-1"),"right"==e?($(d[f]).animate({left:"-=50%"},2e3,function(){g=f,f=h,h=c(f),t()}),$(d[h]).css("z-index","0").animate({left:"-=100%"},2e3)):($(d[f]).animate({left:"+=50%"},2e3,function(){h=f,f=g,g=l(f),t()}),$(d[g]).css("z-index","0").animate({left:"+=100%"},2e3)))}function t(){$(".project-title").show(),$(".project-title").hide(),$(d[f]).find(".project-title").fadeIn(),$(d[h]).css("left","+100%"),$(d[g]).css("left","-100%"),u=!1}function i(e){p||u||(p=!0,u=!0,$(".project-hero").hide(),$(d[f]).find(".project-title").addClass("active"),$(d[f]).show().addClass("opened").animate({width:"-=12%",height:"-=120px","margin-top":"+96px","margin-left":"+=6%"},1200,function(){$(this).find(".project-title").addClass("position-top"),$("html, body").css("overflow","visible"),$(".top-link").css("color","#333"),$(".top-link.left").fadeIn(),$("section.project."+e).fadeIn(),u=!1}))}function n(){p&&!u&&(u=!0,$("section.project").fadeOut(),$(d[f]).find(".project-title").fadeOut(),$(d[f]).delay(400).animate({width:"100%",height:"100%",margin:"0"},1200,function(){$(this).removeClass("opened").find(".project-title").removeClass("active position-top").fadeIn(),$(".top-link").css("color","white"),$(".top-link.left").fadeOut(),o(),$(".project-hero").show(),u=!1,p=!1,window.history.replaceState("home","Sara Colombo","/")}),$("html, body").css("overflow","hidden"))}function o(){$(".project-title").css("top","45%"),$(d).css({width:"100vw",height:"100vh","margin-top":"0","margin-left":"0"}),$(d[f]).css("left","0"),$(d[g]).css("left","-100%"),$(d[h]).css("left","+100%")}function a(){v=7e3,e("right"),m=setTimeout(a,v)}function s(e){var t=$(window),i=e.originalEvent.wheelDelta/120||-e.originalEvent.detail/3,n=t.scrollTop()-parseInt(300*i);TweenMax.to(t,1.2,{scrollTo:{y:n,autoKill:!0},ease:Expo.easeOut,autoKill:!0,overwrite:5})}function r(e,t){var i=t||window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i"),o=n.exec(i);return o?o[1]:null}function c(e){return e==d.length-1?0:e+1}function l(e){return 0==e?d.length-1:e-1}var d=$(".project-hero"),f=1,h=2,g=0,u=!1,p=!1,w=void 0,m=void 0,v=7e3;!function(){var e=r("p");if(e){var t=!1;$(d).each(function(n,o){var a=$(o).find("h1.project-title").attr("data-open");a==e&&(t=!0,f=n,g=l(f),h=c(f),$(d[f]).css("left","0"),$(d[h]).css("left","+100%"),$(d[g]).css("left","-100%"),$(d).show(),i(a))}),t||$(d).show()}else $(d).show()}(),m=setTimeout(a,v),$(d[f]).find(".project-title").show().fadeIn(),$(window).on("touchstart",function(e){w=e.originalEvent.touches[0].clientX}),$(window).on("touchend",function(t){var i=t.originalEvent.changedTouches[0].clientX;w>i+5?e("right"):w<i-5&&e("left"),clearTimeout(m)}),$(window).on("wheel",function(t){t.preventDefault(),s(t);var i=t.originalEvent.deltaY,n=t.originalEvent.deltaX;clearTimeout(m),e(i>0||n>0?"right":"left")}),$(".project-title").click(function(){var e=$(this).attr("data-open");window.history.replaceState("page"+e,e,"?p="+e),i(r("p"))}),$(".next-project .title").click(function(){var e=$(this).attr("data-open");window.history.replaceState("page"+e,e,"?p="+e),window.location.reload()}),$(".project-title").hover(function(){p||$(d).animate({width:"-=20px",height:"-=20px","margin-left":"+=10px","margin-top":"+=10px"},400)},function(){p||$(d).animate({width:"100%",height:"100%","margin-left":"0px","margin-top":"0px"},400)}),$(".top-link.left").click(function(){$("html, body").animate({scrollTop:0},800,function(){n()})}),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&$(".next-project .title").addClass("animated pulse")}),$(".next-project .title").hover(function(){$(".next-project-container").animate({width:"-=20px",height:"-=20px","margin-left":"+=10px","margin-top":"+=10px"},400)},function(){$(".next-project-container").animate({width:"100vw",height:"30vw",margin:"220px -12vw 0 -12vw"},400)})}),$(function(){function e(e){this.leftImage=0,this.currentImage=1,this.rightImage=2,this.container=e}function t(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!m){o||(m=!0);var a=void 0,s=void 0;"left"==t?(a=e.rightImage,s="-50%"):(a=e.leftImage,s="+50%");var r=e.container.find(".image");$(r).eq(e.currentImage).css("z-index","0").animate({left:s},1200),$(r).eq(a).css("z-index","1").animate({left:"0"},1200,function(){e.currentImage=a,e.rightImage=i(a,r),e.leftImage=n(a,r),r.eq(e.leftImage).css("left","-100%"),r.eq(e.rightImage).css("left","100%"),m=!1})}}function i(e,t){return e==t.length-1?0:e+1}function n(e,t){return 0==e?t.length-1:e-1}var o=new e($(".sperduta .section-2 .slider")),a=new e($(".sperduta .section-3 .slider")),s=new e($(".firefighters .section-3 .slider")),r=new e($(".firefighters .section-6 .slider.left")),c=new e($(".firefighters .section-6 .slider.right")),l=new e($(".firefighters .section-10 .slider")),d=new e($(".firefighters .section-12 .slider")),f=new e($(".uppercut .section-8 .slider")),h=new e($(".black .section-2 .slider.left")),g=new e($(".black .section-2 .slider.right")),u=new e($(".black .section-5 .slider")),p=new e($(".black .section-8 .slider")),w=new e($(".black .section-9 .slider")),m=!1;$(".sperduta .section-2 .slider-nav").click(function(){$(this).hasClass("right")?t(o,"left"):t(o,"right")}),$(".sperduta .section-3 .slider-nav").click(function(){$(this).hasClass("right")?t(a,"left"):t(a,"right")}),$(".firefighters .section-3 .slider-nav").click(function(){$(this).hasClass("right")?t(s,"left"):t(s,"right")}),$(".firefighters .section-6 .slider-nav").click(function(){$(this).hasClass("right")?(t(r,"left",!0),t(c,"left",!0),m=!0):(t(r,"right",!0),t(c,"right",!0),m=!0)}),$(".firefighters .section-10 .slider-nav").click(function(){$(this).hasClass("right")?t(l,"left"):t(l,"right")}),$(".firefighters .section-12 .slider-nav").click(function(){$(this).hasClass("right")?t(d,"left"):t(d,"right")}),$(".uppercut .section-8 .slider-nav").click(function(){$(this).hasClass("right")?t(f,"left"):t(f,"right")}),$(".black .section-2 .slider-nav").click(function(){$(this).hasClass("right")?(t(h,"left",!0),t(g,"left",!0),m=!0):(t(h,"right",!0),t(g,"right",!0),m=!0)}),$(".black .section-5 .slider-nav").click(function(){$(this).hasClass("right")?t(u,"left"):t(u,"right")}),$(".black .section-8 .slider-nav").click(function(){$(this).hasClass("right")?t(p,"left"):t(p,"right")}),$(".black .section-9 .slider-nav").click(function(){$(this).hasClass("right")?t(w,"left"):t(w,"right")}),$(".slider").hover(function(){$(this).children(".slider-nav.left").fadeIn().addClass("animated slideInRight"),$(this).children(".slider-nav.right").fadeIn().addClass("animated slideInLeft")},function(){$(this).children(".slider-nav").fadeOut()})}),$(function(){var e=new ScrollMagic.Controller;!function(){$(".sperduta .row").each(function(t){new ScrollMagic.Scene({triggerElement:".sperduta .section-"+(t+1),duration:1500}).setTween(TweenMax.to(".sperduta .section-"+(t+2)+" .image",1,{backgroundPosition:"50% 100%",ease:Linear.easeNone})).addTo(e)}),new ScrollMagic.Scene({triggerElement:".sperduta .section-2",duration:1500}).setTween(TweenMax.to(".sperduta .section-3 .box",1,{css:{top:"+=40px"},ease:Linear.easeNone})).addTo(e),new ScrollMagic.Scene({triggerElement:".sperduta .section-5",duration:800}).setTween(TweenMax.to(".sperduta .section-6 .box",1,{css:{bottom:"+=48px"},ease:Linear.easeNone})).addTo(e)}(),function(){$(".roots .row").each(function(t){new ScrollMagic.Scene({triggerElement:".roots .section-"+(t+1),duration:1500}).setTween(TweenMax.to(".roots .section-"+(t+2)+" .image",1,{backgroundPosition:"50% 100%",ease:Linear.easeNone})).addTo(e)}),new ScrollMagic.Scene({triggerElement:".roots .section-1",duration:1200}).setTween(TweenMax.to(".roots .section-2 .box",1,{css:{bottom:"+=220px"},ease:Linear.easeNone})).addTo(e)}(),function(){$(".firefighters .row").each(function(t){new ScrollMagic.Scene({triggerElement:".firefighters .section-"+(t+1),duration:1500}).setTween(TweenMax.to(".firefighters .section-"+(t+2)+" .image",1,{backgroundPosition:"50% 100%",ease:Linear.easeNone})).addTo(e)})}(),function(){$(".black .row").each(function(t){new ScrollMagic.Scene({triggerElement:".black .section-"+(t+1),duration:1500}).setTween(TweenMax.to(".black .section-"+(t+2)+" .image",1,{backgroundPosition:"50% 100%",ease:Linear.easeNone})).addTo(e)})}(),function(){$(".uppercut .row").each(function(t){new ScrollMagic.Scene({triggerElement:".uppercut .section-"+(t+1),duration:1500}).setTween(TweenMax.to(".uppercut .section-"+(t+2)+" .image",1,{backgroundPosition:"50% 100%",ease:Linear.easeNone})).addTo(e)}),new ScrollMagic.Scene({triggerElement:".uppercut .section-4",duration:1500}).setTween(TweenMax.to(".uppercut .section-5 .box",1,{css:{top:"+=48px"},ease:Linear.easeNone})).addTo(e),new ScrollMagic.Scene({triggerElement:".uppercut .section-6",duration:1500}).setTween(TweenMax.to(".uppercut .section-7 .box",1,{css:{top:"+=48px"},ease:Linear.easeNone})).addTo(e)}()});